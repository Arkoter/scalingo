<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Scalingo</title>
</head>
<body>

<form action="/submit" method="POST">
    <input type="text" name="mon_champ" placeholder="Nouveau message..." required>
    <button type="submit">Ajouter</button>
</form>

<hr>

<ul>
    {{ range .DBMessages }}
    <li style="margin-bottom: 5px;">
        {{ if eq $.EditID .ID }}
        <form action="/update" method="POST" style="display:inline;">
            <input type="hidden" name="id" value="{{ .ID }}">
            <input type="text" name="content" value="{{ .Content }}" required>
            <button type="submit">Valider</button>
            <a href="/">Annuler</a>
        </form>
        {{ else }}
        {{ .Content }}
        <a href="/?edit_id={{ .ID }}" style="margin-left:10px; text-decoration:none;">✏️</a>

        <form action="/delete" method="POST" style="display:inline;">
            <input type="hidden" name="id" value="{{ .ID }}">
            <button type="submit" style="color:red; margin-left:5px;">X</button>
        </form>
        {{ end }}
    </li>
    {{ else }}
    <li><i>Aucun message.</i></li>
    {{ end }}
</ul>

</body>
</html>